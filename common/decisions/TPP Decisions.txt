TPP_xp_to_mastery_cat = {
	generic_army_xp_to_infantry_combat= {
		name = "Convert Army XP to Infantry/Combat Support Mastery"
		icon = GFX_decision_generic_military
		available = { 
			has_army_experience > 100
			has_subdoctrine_in_track = infantry
			has_subdoctrine_in_track = combat_support
		}
		days_remove = 50
		days_re_enable = 50
		ai_will_do = {
			factor = 70
		}
		custom_cost_trigger = {
			has_army_experience > 100
		}
		custom_cost_text = cost_ArmyXP_100
		complete_effect = { army_experience = -100 }
		remove_effect = {
			add_mastery = {
				amount = 35
				track = infantry
			}
			add_mastery = {
				amount = 35
				track = combat_support
			}
		}
	}
	generic_army_xp_to_armor_operations = {
		name = "Convert Army XP to Armor/Operations Mastery"
		icon = GFX_decision_generic_military
		available = { 
			has_army_experience > 100
			has_subdoctrine_in_track = armor
			has_subdoctrine_in_track = operations
		}
		days_remove = 50
		days_re_enable = 50
		ai_will_do = {
			factor = 70
		}
		custom_cost_trigger = {
			has_army_experience > 100
		}
		custom_cost_text = cost_ArmyXP_100
		complete_effect = { army_experience = -100 }
		remove_effect = {
			add_mastery = {
				amount = 35
				track = armor
			}
			add_mastery = {
				amount = 35
				track = operations
			}
		}
	}
	generic_air_xp_to_fighter_striker = {
		name = "Convert Air XP to Fighter/Striker Mastery"
		available = { 
			has_air_experience > 100
			has_subdoctrine_in_track = fighter_aircraft
			has_subdoctrine_in_track = strike_aircraft
		}
		icon = GFX_decision_generic_air
		days_remove = 50
		days_re_enable = 50
		ai_will_do = {
			factor = 70
		}
		custom_cost_trigger = {
			has_air_experience > 100
		}
		custom_cost_text = cost_AirXP_100
		complete_effect = { air_experience = -100 }
		remove_effect = {
			add_mastery = {
				amount = 35
				track = fighter_aircraft
			}
			add_mastery = {
				amount = 35
				track = strike_aircraft
			}
		}
	}
	generic_air_xp_to_medium_heavy = {
		name = "Convert Air XP to Medium/Heavy Mastery"
		available = { 
			has_air_experience > 100
			has_subdoctrine_in_track = medium_aircraft
			has_subdoctrine_in_track = heavy_aircraft
		}
		icon = GFX_decision_generic_air
		days_remove = 50
		days_re_enable = 50
		ai_will_do = {
			factor = 70
		}
		custom_cost_trigger = {
			has_air_experience > 100
		}
		custom_cost_text = cost_AirXP_100
		complete_effect = { air_experience = -100 }
		remove_effect = {
			add_mastery = {
				amount = 35
				track = medium_aircraft
			}
			add_mastery = {
				amount = 35
				track = heavy_aircraft
			}
		}
	}
	generic_navy_xp_to_submarine_screen = {
		name = "Convert Naval XP to Submarine/Screen Mastery"
		available = { 
			has_navy_experience > 100
			has_subdoctrine_in_track = submarines
			has_subdoctrine_in_track = screens
		}
		days_remove = 50
		days_re_enable = 50
		ai_will_do = {
			factor = 70
		}
		custom_cost_trigger = {
			has_navy_experience > 100
		}
		icon = GFX_decision_generic_naval
		custom_cost_text = cost_NavXP_100
		complete_effect = { navy_experience = -100 }
		remove_effect = {
			add_mastery = {
				amount = 35
				track = submarines
			}
			add_mastery = {
				amount = 35
				track = screens
			}
		}
	}
	generic_navy_xp_to_carrier_capital = {
		name = "Convert Naval XP to Carrier/Capital Mastery"
		icon = GFX_decision_generic_naval
		available = { 
			has_navy_experience > 100
			has_subdoctrine_in_track = carriers
			has_subdoctrine_in_track = capital_ships
		}
		days_remove = 50
		days_re_enable = 50
		ai_will_do = {
			factor = 70
		}
		custom_cost_trigger = {
			has_navy_experience > 100
		}
		custom_cost_text = cost_NavXP_100
		complete_effect = { navy_experience = -100 }
		remove_effect = {
			add_mastery = {
				amount = 35
				track = carriers
			}
			add_mastery = {
				amount = 35
				track = capital_ships
			}
		}
	}
}

operations = {
	SND_fight_for_treaty_ports = {
		icon = GFX_decision_generic_operation
		allowed = { tag = SND }
		visible = { has_completed_focus = SND_china_must_never_be_weak }
		state_target = yes
		targets = { 729 }
		cost = 50
		ai_will_do = {
			base = 50
		}
		fire_only_once = yes
		war_with_target_on_complete = yes
		complete_effect = {
			start_border_war = {
				change_state_after_war = yes
				attacker = {
					state = 592
					num_provinces = 2
					modifier = 0.2
					dig_in_factor = 0
					terrain_factor = 0
				}	
				defender = {
					state = FROM.FROM
					num_provinces = 1
				}
			}
		}
	}
	SND_fight_for_treaty_ports2 = {
		icon = GFX_decision_generic_operation
		allowed = { tag = SND }
		visible = { has_completed_focus = SND_china_must_never_be_weak }
		state_target = yes
		targets = { 728 }
		cost = 50
		ai_will_do = {
			base = 50
		}
		fire_only_once = yes
		war_with_target_on_complete = yes
		complete_effect = {
			start_border_war = {
				change_state_after_war = yes
				attacker = {
					state = 1033
					num_provinces = 2
					modifier = 0.2
					dig_in_factor = 0
					terrain_factor = 0
				}	
				defender = {
					state = FROM.FROM
					num_provinces = 1
				}
			}
		}
	}
	SND_fight_for_treaty_ports3 = {
		icon = GFX_decision_generic_operation
		allowed = { tag = SND }
		visible = { has_completed_focus = SND_china_must_never_be_weak }
		state_target = yes
		targets = { 326 }
		cost = 50
		ai_will_do = {
			base = 50
		}
		fire_only_once = yes
		war_with_target_on_complete = yes
		complete_effect = {
			start_border_war = {
				change_state_after_war = yes
				attacker = {
					state = 593
					num_provinces = 1
					modifier = 0.2
					dig_in_factor = 0
					terrain_factor = 0
				}	
				defender = {
					state = FROM.FROM
					num_provinces = 1
				}
			}
		}
	}
}